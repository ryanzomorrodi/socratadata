<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Read a Socrata Dataset into R — soc_read • socratadata</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Read a Socrata Dataset into R — soc_read"><meta name="description" content="Downloads and parses a dataset from a Socrata open data portal URL, returning it as a tibble or sf object.
Metadata is also returned as attributes on the returned object."><meta property="og:description" content="Downloads and parses a dataset from a Socrata open data portal URL, returning it as a tibble or sf object.
Metadata is also returned as attributes on the returned object."><meta property="og:image" content="https://ryanzomorrodi.github.io/socratadata/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">socratadata</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9008</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ryanzomorrodi/socratadata/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Read a Socrata Dataset into R</h1>
      <small class="dont-index">Source: <a href="https://github.com/ryanzomorrodi/socratadata/blob/main/R/soc_read.R" class="external-link"><code>R/soc_read.R</code></a></small>
      <div class="d-none name"><code>soc_read.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Downloads and parses a dataset from a Socrata open data portal URL, returning it as a tibble or <code>sf</code> object.
Metadata is also returned as attributes on the returned object.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">soc_read</span><span class="op">(</span><span class="va">url</span>, query <span class="op">=</span> <span class="fu"><a href="soc_query.html">soc_query</a></span><span class="op">(</span><span class="op">)</span>, alias <span class="op">=</span> <span class="st">"label"</span>, page_size <span class="op">=</span> <span class="fl">10000</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-url">url<a class="anchor" aria-label="anchor" href="#arg-url"></a></dt>
<dd><p>string; URL of the Socrata dataset.</p></dd>


<dt id="arg-query">query<a class="anchor" aria-label="anchor" href="#arg-query"></a></dt>
<dd><p><code><a href="soc_query.html">soc_query()</a></code>; Query parameters specification</p></dd>


<dt id="arg-alias">alias<a class="anchor" aria-label="anchor" href="#arg-alias"></a></dt>
<dd><p>string; Use of field alias values. There are three options:</p><ul><li><p><code>"label"</code>: field alias values are assigned as a label attribute for each field.</p></li>
<li><p><code>"replace"</code>: field alias values replace existing column names.</p></li>
<li><p><code>"drop"</code>: field alias values replace existing column names.</p></li>
</ul></dd>


<dt id="arg-page-size">page_size<a class="anchor" aria-label="anchor" href="#arg-page-size"></a></dt>
<dd><p>whole number; Maximum number of rows returned per request.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A tibble with additional attributes containing dataset metadata.
If the dataset contains a single non-nested geospatial field, it will be returned as an <code>sf</code> object.</p>
<p>The returned object has the following attributes:</p><dl><dt>id</dt>
<dd><p>Asset identifier (four-by-four ID).</p></dd>

<dt>name</dt>
<dd><p>Asset name.</p></dd>

<dt>attribution</dt>
<dd><p>Attribution or publisher of the asset.</p></dd>

<dt>owner_name</dt>
<dd><p>Display name of the asset owner.</p></dd>

<dt>provenance</dt>
<dd><p>Provenance of asset (official or community).</p></dd>

<dt>description</dt>
<dd><p>Textual description of the asset.</p></dd>

<dt>created</dt>
<dd><p>Date asset was created.</p></dd>

<dt>data_last_updated</dt>
<dd><p>Date asset data was last updated</p></dd>

<dt>metadata_last_updated</dt>
<dd><p>Date asset metadata was last updated</p></dd>

<dt>domain_category</dt>
<dd><p>Category label assigned by the domain.</p></dd>

<dt>domain_tags</dt>
<dd><p>Tags applied by the domain.</p></dd>

<dt>domain_metadata</dt>
<dd><p>Metadata associated with the asset assigned by the domain.</p></dd>

<dt>columns</dt>
<dd><p>A dataframe with the following columns:</p><dl><dt>column_name</dt>
<dd><p>Names of asset columns.</p></dd>

<dt>column_label</dt>
<dd><p>Labels of asset columns.</p></dd>

<dt>column_datatype</dt>
<dd><p>Datatypes of asset columns.</p></dd>

<dt>column_description</dt>
<dd><p>Description of asset columns.</p></dd>


</dl></dd>

<dt>permalink</dt>
<dd><p>Permanent URL where the asset can be accessed.</p></dd>

<dt>link</dt>
<dd><p>Direct asset link.</p></dd>

<dt>license</dt>
<dd><p>License associated with the asset.</p></dd>


</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">cta_ridership</span> <span class="op">&lt;-</span> <span class="fu">soc_read</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"https://data.cityofchicago.org/Transportation/Speed-Camera-Violations/hhkd-xvj4/about_data"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■                              </span>   2% | ETA: 44s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■                              </span>   5% | ETA:  1m</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■                            </span>   9% | ETA:  1m</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■                          </span>  16% | ETA: 49s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■                          </span>  18% | ETA:  1m</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■                        </span>  23% | ETA:  1m</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■                       </span>  27% | ETA: 46s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■                     </span>  32% | ETA: 43s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■                    </span>  36% | ETA: 42s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■                   </span>  41% | ETA: 41s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■                  </span>  43% | ETA: 39s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■                 </span>  45% | ETA: 39s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■                </span>  50% | ETA: 36s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■               </span>  55% | ETA: 33s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■              </span>  57% | ETA: 32s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■             </span>  59% | ETA: 31s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■            </span>  64% | ETA: 27s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■           </span>  68% | ETA: 24s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■          </span>  70% | ETA: 22s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■         </span>  73% | ETA: 21s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■        </span>  77% | ETA: 18s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■      </span>  82% | ETA: 14s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■      </span>  84% | ETA: 13s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■     </span>  86% | ETA: 11s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■    </span>  91% | ETA:  7s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■   </span>  93% | ETA:  5s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■  </span>  98% | ETA:  2s</span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> iterating <span style="color: #00BB00;">■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■ </span> 100% | ETA:  0s</span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">cta_ridership</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 434,000 × 14</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    address    camera_id violation_date      violations x_coordinate y_coordinate</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dttm&gt;</span>                   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> 10318 S I… CHI120    2025-06-15 <span style="color: #949494;">00:00:00</span>        126     1<span style="text-decoration: underline;">203</span>645.     1<span style="text-decoration: underline;">837</span>056.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> 10540 S W… CHI205    2025-06-15 <span style="color: #949494;">00:00:00</span>        525     1<span style="text-decoration: underline;">162</span>222.     1<span style="text-decoration: underline;">834</span>494.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> 1111 N HU… CHI010    2025-06-15 <span style="color: #949494;">00:00:00</span>        116          <span style="color: #BB0000;">NA</span>           <span style="color: #BB0000;">NA</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> 1142 W IR… CHI095    2025-06-15 <span style="color: #949494;">00:00:00</span>         91     1<span style="text-decoration: underline;">167</span>790.     1<span style="text-decoration: underline;">926</span>747.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> 115 N OGD… CHI077    2025-06-15 <span style="color: #949494;">00:00:00</span>         36     1<span style="text-decoration: underline;">166</span>485.     1<span style="text-decoration: underline;">900</span>735.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> 1274 E 83… CHI197    2025-06-15 <span style="color: #949494;">00:00:00</span>        120     1<span style="text-decoration: underline;">186</span>302.     1<span style="text-decoration: underline;">850</span>256.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> 1306 W 76… CHI185    2025-06-15 <span style="color: #949494;">00:00:00</span>         46     1<span style="text-decoration: underline;">168</span>833.     1<span style="text-decoration: underline;">854</span>443.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> 1315 W GA… CHI121    2025-06-15 <span style="color: #949494;">00:00:00</span>         83     1<span style="text-decoration: underline;">168</span>445.     1<span style="text-decoration: underline;">868</span>118.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> 1334 W GA… CHI119    2025-06-15 <span style="color: #949494;">00:00:00</span>         95     1<span style="text-decoration: underline;">168</span>211.     1<span style="text-decoration: underline;">868</span>328.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> 1461 W GR… CHI208    2025-06-15 <span style="color: #949494;">00:00:00</span>        150     1<span style="text-decoration: underline;">166</span>314.     1<span style="text-decoration: underline;">903</span>542.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 433,990 more rows</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 8 more variables: latitude &lt;dbl&gt;, longitude &lt;dbl&gt;, location &lt;tibble[,5]&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `:@computed_region_awaf_s7ux` &lt;dbl&gt;, `:@computed_region_6mkv_f3dw` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `:@computed_region_vrxf_vc4k` &lt;dbl&gt;, `:@computed_region_bdys_3d7i` &lt;dbl&gt;,</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;">#   `:@computed_region_43wa_7qmu` &lt;dbl&gt;</span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/attr.html" class="external-link">attr</a></span><span class="op">(</span><span class="va">cta_ridership</span>, <span class="st">"description"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] "This dataset reflects the daily volume of violations that have occurred in Children's Safety Zones for each camera. The data reflects violations that occurred from July 1, 2014 until present, minus the most recent 14 days. This data may change due to occasional time lags between the capturing of a potential violation and the processing and determination of a violation. The most recent 14 days are not shown due to revised data being submitted to the City of Chicago. The reported violations are those that have been collected by the camera and radar system and reviewed by two separate City contractors. In some instances, due to the inability the registered owner of the offending vehicle, the violation may not be issued as a citation. However, this dataset contains all violations regardless of whether a citation was issued, which provides an accurate view into the Automated Speed Enforcement Program violations taking place in Children's Safety Zones. More information on the Safety Zone Program can be found here: http://www.cityofchicago.org/city/en/depts/cdot/supp_info/children_s_safetyzoneporgramautomaticspeedenforcement.html. The corresponding dataset for red light camera violations is https://data.cityofchicago.org/id/spqx-js37."</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">trips_to_lws_by_ca</span> <span class="op">&lt;-</span> <span class="fu">soc_read</span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="st">"https://data.cityofchicago.org/transportation/taxi-trips-2013-2023-/wrvz-psew/about_data"</span>,</span></span>
<span class="r-in"><span>  query <span class="op">=</span> <span class="fu"><a href="soc_query.html">soc_query</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    select <span class="op">=</span> <span class="st">"violation_date, count(*) as n"</span>,</span></span>
<span class="r-in"><span>    where <span class="op">=</span> <span class="st">"dropoff_community_area = 31"</span>,</span></span>
<span class="r-in"><span>    group_by <span class="op">=</span> <span class="st">"pickup_community_area"</span>,</span></span>
<span class="r-in"><span>    order_by <span class="op">=</span> <span class="st">"n DESC"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span>,</span></span>
<span class="r-in"><span>  alias <span class="op">=</span> <span class="st">"replace"</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-err co"><span class="r-pr">#&gt;</span> <span class="error">Error in req_perform(req, path = get_path(i), mock = mock):</span> HTTP 400 Bad Request.</span>
<span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ryan Zomorrodi.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

